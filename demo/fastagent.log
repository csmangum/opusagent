2025-06-04 18:09:26,335 - run - INFO - Logging configured
2025-06-04 18:09:26,337 - run - INFO - === Server Configuration ===
2025-06-04 18:09:26,337 - run - INFO - Host: 0.0.0.0
2025-06-04 18:09:26,337 - run - INFO - Port: 8000
2025-06-04 18:09:26,337 - run - INFO - Log level: INFO
2025-06-04 18:09:26,337 - run - INFO - Environment: production
2025-06-04 18:09:26,337 - run - INFO - OpenAI API key configured: True
2025-06-04 18:09:26,337 - run - INFO - OpenAI API key format: Valid
2025-06-04 18:09:26,337 - run - INFO - =========================
2025-06-04 18:09:26,337 - run - INFO - Starting server with uvicorn...
2025-06-04 18:09:26,682 - telephony_realtime_bridge - INFO - Logging configured
2025-06-04 18:09:26,682 - main - INFO - Logging configured
2025-06-04 18:09:35,265 - multi_turn_test - INFO - Logging configured
2025-06-04 18:09:35,267 - multi_turn_test - INFO - [MAIN] Multi-Turn Conversation Test Tool
2025-06-04 18:09:35,267 - multi_turn_test - INFO - ==================================================
2025-06-04 18:09:35,267 - multi_turn_test - INFO - [MAIN] Running replacement card conversation flow
2025-06-04 18:09:35,267 - multi_turn_test - INFO - [TEST] Starting ReplacementCardConversation
2025-06-04 18:09:35,268 - multi_turn_test - INFO - ==================================================
2025-06-04 18:09:35,268 - multi_turn_test - INFO - [TEST] Using 5 audio files:
2025-06-04 18:09:35,268 - multi_turn_test - INFO -    1. need_to_replace_card.wav
2025-06-04 18:09:35,268 - multi_turn_test - INFO -    2. my_gold_card.wav
2025-06-04 18:09:35,268 - multi_turn_test - INFO -    3. i_lost_it.wav
2025-06-04 18:09:35,268 - multi_turn_test - INFO -    4. yes_that_address.wav
2025-06-04 18:09:35,268 - multi_turn_test - INFO -    5. thanks_thats_all.wav
2025-06-04 18:09:35,268 - multi_turn_test - INFO - [MOCK] Connecting to bridge at ws://localhost:8000/voice-bot...
2025-06-04 18:09:37,339 - main - INFO - ------ Incoming telephony connection from Address(host='127.0.0.1', port=57334) ------
2025-06-04 18:09:37,339 - main - INFO - ------ Telephony connection accepted from Address(host='127.0.0.1', port=57334) ------
2025-06-04 18:09:37,339 - main - INFO - Attempting to connect to OpenAI Realtime API...
2025-06-04 18:09:37,352 - multi_turn_test - INFO - [MOCK] Connected to bridge server
2025-06-04 18:09:37,353 - multi_turn_test - INFO - [MOCK] Sent session.initiate for conversation: 79e677e9-776a-405a-af9a-0fd7045b804b
2025-06-04 18:09:37,971 - main - INFO - OpenAI WebSocket connection established
2025-06-04 18:09:37,971 - main - INFO - Telephony-Realtime bridge created
2025-06-04 18:09:37,971 - main - INFO - Initializing realtime-websocket session...
2025-06-04 18:09:37,971 - telephony_realtime_bridge - INFO - Sending session update: {"type":"session.update","event_id":null,"session":{"modalities":["text","audio"],"model":"gpt-4o-realtime-preview-2024-10-01","instructions":"You are a customer service agent for Bank of Peril. You help customers with their banking needs. When a customer contacts you, first greet them warmly, then listen to their request and call the call_intent function to identify their intent. After calling call_intent, use the function result to guide your response:\n- If intent is 'card_replacement', ask which type of card they need to replace (use the available_cards from the function result)\n- If intent is 'account_inquiry', ask what specific account information they need\n- For other intents, ask clarifying questions to better understand their needs\nAlways be helpful, professional, and use the information returned by functions to provide relevant follow-up questions.","voice":"alloy","input_audio_format":"pcm16","output_audio_format":"pcm16","turn_detection":null,"tools":[{"type":"function","name":"get_balance","description":"Get the user's account balance.","parameters":{"type":"object","properties":{}}},{"type":"function","name":"transfer_funds","description":"Transfer funds to another account.","parameters":{"type":"object","properties":{"amount":{"type":"number"},"to_account":{"type":"string"}}}},{"type":"function","name":"call_intent","description":"Get the user's intent.","parameters":{"type":"object","properties":{"intent":{"type":"string","enum":["card_replacement","account_inquiry","other"]}},"required":["intent"]}},{"type":"function","name":"member_account_confirmation","description":"Confirm which member account/card needs replacement.","parameters":{"type":"object","properties":{"member_accounts":{"type":"array","items":{"type":"string"},"description":"List of available member accounts/cards"},"organization_name":{"type":"string"}}}},{"type":"function","name":"replacement_reason","description":"Collect the reason for card replacement.","parameters":{"type":"object","properties":{"card_in_context":{"type":"string"},"reason":{"type":"string","enum":["Lost","Damaged","Stolen","Other"]}}}},{"type":"function","name":"confirm_address","description":"Confirm the address for card delivery.","parameters":{"type":"object","properties":{"card_in_context":{"type":"string"},"address_on_file":{"type":"string"},"confirmed_address":{"type":"string"}}}},{"type":"function","name":"start_card_replacement","description":"Start the card replacement process.","parameters":{"type":"object","properties":{"card_in_context":{"type":"string"},"address_in_context":{"type":"string"}}}},{"type":"function","name":"finish_card_replacement","description":"Finish the card replacement process and provide delivery information.","parameters":{"type":"object","properties":{"card_in_context":{"type":"string"},"address_in_context":{"type":"string"},"delivery_time":{"type":"string"}}}},{"type":"function","name":"wrap_up","description":"Wrap up the call with closing remarks.","parameters":{"type":"object","properties":{"organization_name":{"type":"string"}}}}],"tool_choice":"auto","temperature":0.8,"max_response_output_tokens":4096,"input_audio_transcription":{"model":"whisper-1"},"input_audio_noise_reduction":{"type":"near_field"}}}
2025-06-04 18:09:37,971 - main - INFO - realtime-websocket session initialized
2025-06-04 18:09:37,971 - main - INFO - Starting bridge tasks...
2025-06-04 18:09:37,971 - telephony_realtime_bridge - INFO - Received telephony message: session.initiate
2025-06-04 18:09:37,971 - telephony_realtime_bridge - INFO - Session initiate received: {'type': 'session.initiate', 'conversationId': '79e677e9-776a-405a-af9a-0fd7045b804b', 'expectAudioMessages': True, 'botName': 'ReplacementCardConversationBot', 'caller': '+15551234567', 'supportedMediaFormats': ['raw/lpcm16']}
2025-06-04 18:09:37,971 - telephony_realtime_bridge - INFO - Conversation started: 79e677e9-776a-405a-af9a-0fd7045b804b
2025-06-04 18:09:37,986 - telephony_realtime_bridge - INFO - Session accepted with format: raw/lpcm16
2025-06-04 18:09:37,986 - multi_turn_test - INFO - [MOCK] Received from bridge: session.accepted
2025-06-04 18:09:37,986 - multi_turn_test - INFO - [MOCK] Session accepted with format: raw/lpcm16
2025-06-04 18:09:37,986 - multi_turn_test - INFO - [MOCK] Starting multi-turn conversation with 5 turns
2025-06-04 18:09:37,986 - multi_turn_test - INFO - [MOCK] Waiting for initial greeting...
2025-06-04 18:09:37,986 - multi_turn_test - INFO - [MOCK] Waiting for LLM greeting...
2025-06-04 18:09:37,999 - telephony_realtime_bridge - INFO - Received OpenAI message type: session.created
2025-06-04 18:09:37,999 - telephony_realtime_bridge - INFO - Session created successfully
2025-06-04 18:09:38,000 - telephony_realtime_bridge - INFO - Attempting to send initial conversation item...
2025-06-04 18:09:38,000 - telephony_realtime_bridge - INFO - Sending initial conversation item: {"type": "conversation.item.create", "item": {"type": "message", "role": "user", "content": [{"type": "input_text", "text": "You are a customer service agent for Bank of Peril. You are given a task to help the customer with their banking needs. Start by saying 'Hello! How can I help you today?' You will infer the customer's intent from their response and call the call_intent function."}]}}
2025-06-04 18:09:40,015 - telephony_realtime_bridge - INFO - Sending response create: {"type": "response.create", "response": {"modalities": ["text", "audio"], "output_audio_format": "pcm16", "temperature": 0.8, "max_output_tokens": 4096, "voice": "alloy"}}
2025-06-04 18:09:40,015 - telephony_realtime_bridge - INFO - Initial conversation flow initiated successfully
2025-06-04 18:09:40,015 - telephony_realtime_bridge - INFO - Initial conversation item sent successfully
2025-06-04 18:09:40,015 - telephony_realtime_bridge - INFO - Received OpenAI message type: session.updated
2025-06-04 18:09:40,015 - telephony_realtime_bridge - INFO - Session updated successfully
2025-06-04 18:09:40,015 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:09:40,015 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:09:40,087 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.created
2025-06-04 18:09:40,088 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.created",
  "event_id": "event_BetOq0ui7EZWIbleaaN9S",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetOq63zAKvBpauJs3bSY",
    "status": "in_progress",
    "status_details": null,
    "output": [],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": null,
    "metadata": null
  }
}
2025-06-04 18:09:40,089 - telephony_realtime_bridge - INFO - Response creation started
2025-06-04 18:09:40,442 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.added
2025-06-04 18:09:40,442 - telephony_realtime_bridge - INFO - Output item added: {
  "id": "item_BetOqGDgTH3wne84TgLQA",
  "object": "realtime.item",
  "type": "message",
  "status": "in_progress",
  "role": "assistant",
  "content": []
}
2025-06-04 18:09:40,442 - telephony_realtime_bridge - INFO - Output item added: {'id': 'item_BetOqGDgTH3wne84TgLQA', 'object': 'realtime.item', 'type': 'message', 'status': 'in_progress', 'role': 'assistant', 'content': []}
2025-06-04 18:09:40,453 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:09:40,453 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:09:40,455 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.content_part.added
2025-06-04 18:09:40,455 - telephony_realtime_bridge - INFO - Content part added: {
  "type": "audio",
  "transcript": ""
}
2025-06-04 18:09:40,455 - telephony_realtime_bridge - INFO - Content part added: {'type': 'audio', 'transcript': ''}
2025-06-04 18:09:40,455 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:40,455 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:40,455 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: Hello
2025-06-04 18:09:40,478 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:40,478 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:40,479 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: !
2025-06-04 18:09:40,479 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:40,479 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:09:40,479 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  How
2025-06-04 18:09:40,488 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:40,489 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:09:40,490 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  can
2025-06-04 18:09:40,493 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:40,493 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 2
2025-06-04 18:09:40,493 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  I
2025-06-04 18:09:40,503 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:40,504 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:40,504 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  help
2025-06-04 18:09:40,585 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:40,585 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 6400
2025-06-04 18:09:40,586 - telephony_realtime_bridge - INFO - Started play stream: 58f203b9-60db-40c2-9593-73139061b5df
2025-06-04 18:09:40,586 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.start
2025-06-04 18:09:40,586 - multi_turn_test - INFO - [MOCK] Play stream started: 58f203b9-60db-40c2-9593-73139061b5df
2025-06-04 18:09:40,586 - multi_turn_test - INFO - [MOCK] Collecting greeting audio...
2025-06-04 18:09:40,587 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:40,587 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (6400 bytes base64)
2025-06-04 18:09:40,607 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:40,607 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 9600
2025-06-04 18:09:40,608 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 9600 bytes)
2025-06-04 18:09:40,608 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:40,608 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (9600 bytes base64)
2025-06-04 18:09:40,649 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:40,649 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:09:40,649 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  you
2025-06-04 18:09:40,650 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:40,650 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:09:40,651 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:09:40,651 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:40,651 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:40,652 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:09:40,652 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 6
2025-06-04 18:09:40,652 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  today
2025-06-04 18:09:40,659 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:40,660 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:40,660 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: ?
2025-06-04 18:09:40,728 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:40,728 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:09:40,729 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:09:40,730 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:40,730 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:09:40,769 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:40,769 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:09:40,770 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:40,770 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:09:40,770 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:09:40,908 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:40,908 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 50264
2025-06-04 18:09:40,911 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 50264 bytes)
2025-06-04 18:09:40,912 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:40,912 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (50264 bytes base64)
2025-06-04 18:09:40,936 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.done
2025-06-04 18:09:40,936 - telephony_realtime_bridge - INFO - Audio response completed
2025-06-04 18:09:40,937 - telephony_realtime_bridge - INFO - Stopped play stream: 58f203b9-60db-40c2-9593-73139061b5df
2025-06-04 18:09:40,937 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.stop
2025-06-04 18:09:40,937 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.done
2025-06-04 18:09:40,937 - multi_turn_test - INFO - [MOCK] Greeting collected: 6 chunks
2025-06-04 18:09:40,937 - telephony_realtime_bridge - INFO - Full AI transcript (output audio): Hello! How can I help you today?
2025-06-04 18:09:40,937 - multi_turn_test - INFO - [MOCK] Play stream stopped: 58f203b9-60db-40c2-9593-73139061b5df
2025-06-04 18:09:40,937 - multi_turn_test - INFO - [MOCK] Greeting received: 6 chunks

2025-06-04 18:09:40,938 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.content_part.done
2025-06-04 18:09:40,938 - multi_turn_test - INFO - 
[MOCK] === Turn 1/5 ===
2025-06-04 18:09:40,938 - telephony_realtime_bridge - INFO - Content part completed
2025-06-04 18:09:40,938 - multi_turn_test - INFO - [MOCK] Sending: need_to_replace_card.wav
2025-06-04 18:09:40,938 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.done
2025-06-04 18:09:40,939 - multi_turn_test - INFO - [MOCK] Loading audio: need_to_replace_card.wav
2025-06-04 18:09:40,939 - telephony_realtime_bridge - INFO - Output item completed
2025-06-04 18:09:40,939 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.done
2025-06-04 18:09:40,939 - multi_turn_test - INFO -    Format: 1ch, 16bit, 24000Hz
2025-06-04 18:09:40,939 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.done",
  "event_id": "event_BetOr3k5aZqgSUsk8tPBb",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetOq63zAKvBpauJs3bSY",
    "status": "completed",
    "status_details": null,
    "output": [
      {
        "id": "item_BetOqGDgTH3wne84TgLQA",
        "object": "realtime.item",
        "type": "message",
        "status": "completed",
        "role": "assistant",
        "content": [
          {
            "type": "audio",
            "transcript": "Hello! How can I help you today?"
          }
        ]
      }
    ],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": {
      "total_tokens": 550,
      "input_tokens": 497,
      "output_tokens": 53,
      "input_token_details": {
        "text_tokens": 497,
        "audio_tokens": 0,
        "cached_tokens": 0,
        "cached_tokens_details": {
          "text_tokens": 0,
          "audio_tokens": 0
        }
      },
      "output_token_details": {
        "text_tokens": 19,
        "audio_tokens": 34
      }
    },
    "metadata": null
  }
}
2025-06-04 18:09:40,940 - telephony_realtime_bridge - INFO - Received OpenAI message type: rate_limits.updated
2025-06-04 18:09:41,342 - multi_turn_test - INFO -    Resampling from 24000Hz to 16000Hz...
2025-06-04 18:09:41,355 - multi_turn_test - INFO -    Split into 2 chunks (~1.60s total)
2025-06-04 18:09:41,356 - multi_turn_test - INFO - [MOCK] Sending user audio: need_to_replace_card.wav (2 chunks)
2025-06-04 18:09:41,357 - telephony_realtime_bridge - INFO - Received telephony message: userStream.start
2025-06-04 18:09:41,357 - telephony_realtime_bridge - INFO - User stream start received: {'type': 'userStream.start', 'conversationId': '79e677e9-776a-405a-af9a-0fd7045b804b'}
2025-06-04 18:09:41,358 - telephony_realtime_bridge - INFO - User stream started for conversation: 79e677e9-776a-405a-af9a-0fd7045b804b
2025-06-04 18:09:41,358 - multi_turn_test - INFO - [MOCK] Received from bridge: userStream.started
2025-06-04 18:09:41,358 - multi_turn_test - INFO - [MOCK] User stream started
2025-06-04 18:09:41,465 - multi_turn_test - DEBUG - [MOCK] Sent chunk 1/2
2025-06-04 18:09:41,466 - telephony_realtime_bridge - INFO - Received telephony message: userStream.chunk with audio chunk size: 42668 bytes
2025-06-04 18:09:41,466 - telephony_realtime_bridge - DEBUG - Processing audio chunk #1: 32000 -> 32000 bytes (~1000.0ms of audio). Total sent: 32000 bytes
2025-06-04 18:09:41,467 - telephony_realtime_bridge - DEBUG - Sending audio to realtime-websocket (size: 42668 bytes base64)
2025-06-04 18:09:41,495 - multi_turn_test - DEBUG - [MOCK] Sent chunk 2/2
2025-06-04 18:09:41,495 - telephony_realtime_bridge - INFO - Received telephony message: userStream.chunk with audio chunk size: 25600 bytes
2025-06-04 18:09:41,495 - telephony_realtime_bridge - DEBUG - Processing audio chunk #2: 19200 -> 19200 bytes (~600.0ms of audio). Total sent: 51200 bytes
2025-06-04 18:09:41,496 - telephony_realtime_bridge - DEBUG - Sending audio to realtime-websocket (size: 25600 bytes base64)
2025-06-04 18:09:41,524 - telephony_realtime_bridge - INFO - Received telephony message: userStream.stop
2025-06-04 18:09:41,524 - multi_turn_test - INFO - [MOCK] User audio sent successfully
2025-06-04 18:09:41,524 - telephony_realtime_bridge - INFO - User stream stop received for conversation: 79e677e9-776a-405a-af9a-0fd7045b804b
2025-06-04 18:09:41,525 - telephony_realtime_bridge - INFO - Buffer state before commit: 2 chunks, 51200 bytes (~1600.0ms of audio)
2025-06-04 18:09:41,524 - multi_turn_test - INFO - [MOCK] Turn 1: User audio sent successfully
2025-06-04 18:09:41,525 - multi_turn_test - INFO - [MOCK] Waiting for LLM response...
2025-06-04 18:09:41,525 - telephony_realtime_bridge - INFO - realtime_websocket_object: <bound method Connection.send of <websockets.asyncio.client.ClientConnection object at 0x0000019624DFA8D0>>
2025-06-04 18:09:41,525 - telephony_realtime_bridge - INFO - Audio buffer committed with 2 chunks (51200 bytes)
2025-06-04 18:09:41,525 - telephony_realtime_bridge - INFO - Audio buffer commit sent: {"type":"input_audio_buffer.commit","event_id":null}
2025-06-04 18:09:41,526 - telephony_realtime_bridge - INFO - Response creation triggered after audio buffer commit
2025-06-04 18:09:41,526 - multi_turn_test - INFO - [MOCK] Received from bridge: userStream.stopped
2025-06-04 18:09:41,526 - multi_turn_test - INFO - [MOCK] User stream stopped
2025-06-04 18:09:41,702 - telephony_realtime_bridge - INFO - Received OpenAI message type: input_audio_buffer.committed
2025-06-04 18:09:41,702 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:09:41,702 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:09:41,707 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.created
2025-06-04 18:09:41,707 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.created",
  "event_id": "event_BetOsxjFWI7yNXJBxdtab",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetOskCskP0lgfMMbom13",
    "status": "in_progress",
    "status_details": null,
    "output": [],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": null,
    "metadata": null
  }
}
2025-06-04 18:09:41,707 - telephony_realtime_bridge - INFO - Response creation started
2025-06-04 18:09:42,352 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.added
2025-06-04 18:09:42,352 - telephony_realtime_bridge - INFO - Output item added: {
  "id": "item_BetOsfX9U0R2etSHAGUXj",
  "object": "realtime.item",
  "type": "function_call",
  "status": "in_progress",
  "name": "call_intent",
  "call_id": "call_M2PkAN4hfzOHwPew",
  "arguments": ""
}
2025-06-04 18:09:42,352 - telephony_realtime_bridge - INFO - Output item added: {'id': 'item_BetOsfX9U0R2etSHAGUXj', 'object': 'realtime.item', 'type': 'function_call', 'status': 'in_progress', 'name': 'call_intent', 'call_id': 'call_M2PkAN4hfzOHwPew', 'arguments': ''}
2025-06-04 18:09:42,352 - telephony_realtime_bridge - INFO - Captured function call: call_intent with call_id: call_M2PkAN4hfzOHwPew
2025-06-04 18:09:42,352 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:09:42,352 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:09:42,364 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:42,364 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:42,364 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:42,364 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:42,378 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:42,378 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:42,381 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:42,381 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:42,391 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:42,391 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:42,394 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:42,394 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:42,402 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:42,402 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:42,421 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.done
2025-06-04 18:09:42,421 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.done to handler
2025-06-04 18:09:42,422 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.done
2025-06-04 18:09:42,422 - telephony_realtime_bridge - INFO - Output item completed
2025-06-04 18:09:42,426 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.done
2025-06-04 18:09:42,426 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.done",
  "event_id": "event_BetOt70vm0IIKEzykTEy6",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetOskCskP0lgfMMbom13",
    "status": "completed",
    "status_details": null,
    "output": [
      {
        "id": "item_BetOsfX9U0R2etSHAGUXj",
        "object": "realtime.item",
        "type": "function_call",
        "status": "completed",
        "name": "call_intent",
        "call_id": "call_M2PkAN4hfzOHwPew",
        "arguments": "{\"intent\":\"card_replacement\"}"
      }
    ],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": {
      "total_tokens": 588,
      "input_tokens": 570,
      "output_tokens": 18,
      "input_token_details": {
        "text_tokens": 526,
        "audio_tokens": 44,
        "cached_tokens": 0,
        "cached_tokens_details": {
          "text_tokens": 0,
          "audio_tokens": 0
        }
      },
      "output_token_details": {
        "text_tokens": 18,
        "audio_tokens": 0
      }
    },
    "metadata": null
  }
}
2025-06-04 18:09:42,433 - telephony_realtime_bridge - INFO - Received OpenAI message type: rate_limits.updated
2025-06-04 18:09:42,485 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:09:42,485 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:09:42,501 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.created
2025-06-04 18:09:42,501 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.created",
  "event_id": "event_BetOttXLDOExtvFbk2AlB",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetOt5LgqsK9oRuV0RyPP",
    "status": "in_progress",
    "status_details": null,
    "output": [],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": null,
    "metadata": null
  }
}
2025-06-04 18:09:42,501 - telephony_realtime_bridge - INFO - Response creation started
2025-06-04 18:09:42,817 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.added
2025-06-04 18:09:42,817 - telephony_realtime_bridge - INFO - Output item added: {
  "id": "item_BetOtxIfxjcMTpYPOWl8J",
  "object": "realtime.item",
  "type": "message",
  "status": "in_progress",
  "role": "assistant",
  "content": []
}
2025-06-04 18:09:42,817 - telephony_realtime_bridge - INFO - Output item added: {'id': 'item_BetOtxIfxjcMTpYPOWl8J', 'object': 'realtime.item', 'type': 'message', 'status': 'in_progress', 'role': 'assistant', 'content': []}
2025-06-04 18:09:42,817 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:09:42,817 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:09:42,817 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.content_part.added
2025-06-04 18:09:42,817 - telephony_realtime_bridge - INFO - Content part added: {
  "type": "audio",
  "transcript": ""
}
2025-06-04 18:09:42,833 - telephony_realtime_bridge - INFO - Content part added: {'type': 'audio', 'transcript': ''}
2025-06-04 18:09:42,834 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:42,835 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:42,835 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: I
2025-06-04 18:09:42,835 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.input_audio_transcription.delta
2025-06-04 18:09:42,835 - telephony_realtime_bridge - DEBUG - Received input audio transcription delta: Hi, I need to replace my card.

2025-06-04 18:09:42,836 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.input_audio_transcription.completed
2025-06-04 18:09:42,836 - telephony_realtime_bridge - INFO - Full user transcript (input audio): Hi, I need to replace my card.

2025-06-04 18:09:42,836 - telephony_realtime_bridge - INFO - Input audio transcription completed
2025-06-04 18:09:42,850 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:42,850 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:09:42,850 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  can
2025-06-04 18:09:42,851 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:42,851 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:42,851 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  help
2025-06-04 18:09:42,855 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:42,855 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:09:42,855 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  you
2025-06-04 18:09:42,863 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:42,864 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:42,864 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  with
2025-06-04 18:09:42,945 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:42,945 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 6400
2025-06-04 18:09:42,945 - telephony_realtime_bridge - INFO - Started play stream: 1967024b-aaa1-404b-8563-38360a09b48e
2025-06-04 18:09:42,945 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.start
2025-06-04 18:09:42,945 - multi_turn_test - INFO - [MOCK] Play stream started: 1967024b-aaa1-404b-8563-38360a09b48e
2025-06-04 18:09:42,945 - multi_turn_test - INFO - [MOCK] Collecting response audio...
2025-06-04 18:09:42,945 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 6400 bytes)
2025-06-04 18:09:42,945 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:42,945 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (6400 bytes base64)
2025-06-04 18:09:42,972 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:42,974 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 9600
2025-06-04 18:09:42,975 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 9600 bytes)
2025-06-04 18:09:42,975 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:42,975 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (9600 bytes base64)
2025-06-04 18:09:42,998 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:42,998 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:42,998 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  that
2025-06-04 18:09:43,001 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,001 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:43,001 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: .
2025-06-04 18:09:43,012 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,012 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 6
2025-06-04 18:09:43,013 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  Which
2025-06-04 18:09:43,019 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,019 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:43,019 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  type
2025-06-04 18:09:43,030 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,031 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:09:43,031 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  of
2025-06-04 18:09:43,054 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:43,054 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:09:43,054 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:09:43,054 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:43,059 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:09:43,094 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:43,095 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:09:43,096 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:09:43,096 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:43,096 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:09:43,132 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:43,133 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:09:43,134 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:09:43,134 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:43,135 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:09:43,171 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,171 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:43,171 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  card
2025-06-04 18:09:43,173 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,173 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:09:43,173 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  do
2025-06-04 18:09:43,182 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,182 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:09:43,183 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  you
2025-06-04 18:09:43,188 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,188 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:43,189 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  need
2025-06-04 18:09:43,259 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:43,259 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:09:43,259 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:09:43,259 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:43,259 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:09:43,326 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,326 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:09:43,326 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  to
2025-06-04 18:09:43,326 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,326 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 8
2025-06-04 18:09:43,326 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  replace
2025-06-04 18:09:43,342 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,342 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:43,343 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: :
2025-06-04 18:09:43,348 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,350 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:43,350 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  Gold
2025-06-04 18:09:43,365 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,365 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:43,365 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  card
2025-06-04 18:09:43,373 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,374 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:43,374 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: ,
2025-06-04 18:09:43,375 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,375 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 7
2025-06-04 18:09:43,375 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  Silver
2025-06-04 18:09:43,384 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,384 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:43,384 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  card
2025-06-04 18:09:43,389 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,389 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:43,389 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: ,
2025-06-04 18:09:43,421 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:43,422 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 32000
2025-06-04 18:09:43,424 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 32000 bytes)
2025-06-04 18:09:43,424 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:43,424 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (32000 bytes base64)
2025-06-04 18:09:43,535 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:43,535 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 48000
2025-06-04 18:09:43,551 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 48000 bytes)
2025-06-04 18:09:43,551 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:43,551 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (48000 bytes base64)
2025-06-04 18:09:43,646 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,647 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:09:43,647 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  or
2025-06-04 18:09:43,648 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,648 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 6
2025-06-04 18:09:43,648 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  Basic
2025-06-04 18:09:43,665 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,665 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:43,665 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  card
2025-06-04 18:09:43,673 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:43,674 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:43,674 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: ?
2025-06-04 18:09:43,758 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:43,758 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:43,763 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:43,763 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:43,763 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:43,896 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:43,896 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:43,906 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:43,906 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:43,906 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:44,057 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:44,057 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:44,057 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:44,057 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:44,057 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:44,589 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:44,589 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 88664
2025-06-04 18:09:44,595 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 88664 bytes)
2025-06-04 18:09:44,595 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.done
2025-06-04 18:09:44,595 - telephony_realtime_bridge - INFO - Audio response completed
2025-06-04 18:09:44,595 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:44,595 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (88664 bytes base64)
2025-06-04 18:09:44,595 - telephony_realtime_bridge - INFO - Stopped play stream: 1967024b-aaa1-404b-8563-38360a09b48e
2025-06-04 18:09:44,596 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.done
2025-06-04 18:09:44,596 - telephony_realtime_bridge - INFO - Full AI transcript (output audio): I can help you with that. Which type of card do you need to replace: Gold card, Silver card, or Basic card?
2025-06-04 18:09:44,596 - telephony_realtime_bridge - INFO - Audio transcript completed
2025-06-04 18:09:44,596 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.content_part.done
2025-06-04 18:09:44,596 - telephony_realtime_bridge - INFO - Content part completed
2025-06-04 18:09:44,596 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.done
2025-06-04 18:09:44,596 - telephony_realtime_bridge - INFO - Output item completed
2025-06-04 18:09:44,597 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.done
2025-06-04 18:09:44,597 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.done",
  "event_id": "event_BetOv2UQrSrvnCdACmmkQ",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetOt5LgqsK9oRuV0RyPP",
    "status": "completed",
    "status_details": null,
    "output": [
      {
        "id": "item_BetOtxIfxjcMTpYPOWl8J",
        "object": "realtime.item",
        "type": "message",
        "status": "completed",
        "role": "assistant",
        "content": [
          {
            "type": "audio",
            "transcript": "I can help you with that. Which type of card do you need to replace: Gold card, Silver card, or Basic card?"
          }
        ]
      }
    ],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": {
      "total_tokens": 841,
      "input_tokens": 664,
      "output_tokens": 177,
      "input_token_details": {
        "text_tokens": 620,
        "audio_tokens": 44,
        "cached_tokens": 512,
        "cached_tokens_details": {
          "text_tokens": 512,
          "audio_tokens": 0
        }
      },
      "output_token_details": {
        "text_tokens": 41,
        "audio_tokens": 136
      }
    },
    "metadata": null
  }
}
2025-06-04 18:09:44,597 - telephony_realtime_bridge - INFO - Received OpenAI message type: rate_limits.updated
2025-06-04 18:09:44,597 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.stop
2025-06-04 18:09:44,598 - multi_turn_test - INFO - [MOCK] Response collected: 12 chunks
2025-06-04 18:09:44,598 - multi_turn_test - INFO - [MOCK] Play stream stopped: 1967024b-aaa1-404b-8563-38360a09b48e
2025-06-04 18:09:44,702 - multi_turn_test - INFO - [MOCK] Response received: 12 chunks
2025-06-04 18:09:44,702 - multi_turn_test - INFO - [MOCK] Turn 1: AI response received (12 chunks)
2025-06-04 18:09:44,706 - multi_turn_test - INFO - [MOCK] Saved audio: turn_01_response_79e677e9.wav (10.33s)
2025-06-04 18:09:44,706 - multi_turn_test - INFO - [MOCK] Waiting 2.0s before next turn...
2025-06-04 18:09:46,710 - multi_turn_test - INFO - 
[MOCK] === Turn 2/5 ===
2025-06-04 18:09:46,710 - multi_turn_test - INFO - [MOCK] Sending: my_gold_card.wav
2025-06-04 18:09:46,710 - multi_turn_test - INFO - [MOCK] Loading audio: my_gold_card.wav
2025-06-04 18:09:46,710 - multi_turn_test - INFO -    Format: 1ch, 16bit, 24000Hz
2025-06-04 18:09:47,142 - multi_turn_test - INFO -    Resampling from 24000Hz to 16000Hz...
2025-06-04 18:09:47,159 - multi_turn_test - INFO -    Split into 2 chunks (~1.01s total)
2025-06-04 18:09:47,159 - multi_turn_test - INFO - [MOCK] Sending user audio: my_gold_card.wav (2 chunks)
2025-06-04 18:09:47,160 - telephony_realtime_bridge - INFO - Received telephony message: userStream.start
2025-06-04 18:09:47,160 - telephony_realtime_bridge - INFO - User stream start received: {'type': 'userStream.start', 'conversationId': '79e677e9-776a-405a-af9a-0fd7045b804b'}
2025-06-04 18:09:47,160 - telephony_realtime_bridge - INFO - User stream started for conversation: 79e677e9-776a-405a-af9a-0fd7045b804b
2025-06-04 18:09:47,160 - multi_turn_test - INFO - [MOCK] Received from bridge: userStream.started
2025-06-04 18:09:47,161 - multi_turn_test - INFO - [MOCK] User stream started
2025-06-04 18:09:47,269 - multi_turn_test - DEBUG - [MOCK] Sent chunk 1/2
2025-06-04 18:09:47,269 - telephony_realtime_bridge - INFO - Received telephony message: userStream.chunk with audio chunk size: 42668 bytes
2025-06-04 18:09:47,269 - telephony_realtime_bridge - DEBUG - Processing audio chunk #1: 32000 -> 32000 bytes (~1000.0ms of audio). Total sent: 32000 bytes
2025-06-04 18:09:47,269 - telephony_realtime_bridge - DEBUG - Sending audio to realtime-websocket (size: 42668 bytes base64)
2025-06-04 18:09:47,291 - telephony_realtime_bridge - INFO - Received telephony message: userStream.chunk with audio chunk size: 4268 bytes
2025-06-04 18:09:47,291 - multi_turn_test - DEBUG - [MOCK] Sent chunk 2/2
2025-06-04 18:09:47,291 - telephony_realtime_bridge - DEBUG - Processing audio chunk #2: 3200 -> 3200 bytes (~100.0ms of audio). Total sent: 35200 bytes
2025-06-04 18:09:47,291 - telephony_realtime_bridge - DEBUG - Sending audio to realtime-websocket (size: 4268 bytes base64)
2025-06-04 18:09:47,315 - multi_turn_test - INFO - [MOCK] User audio sent successfully
2025-06-04 18:09:47,315 - telephony_realtime_bridge - INFO - Received telephony message: userStream.stop
2025-06-04 18:09:47,315 - multi_turn_test - INFO - [MOCK] Turn 2: User audio sent successfully
2025-06-04 18:09:47,316 - telephony_realtime_bridge - INFO - User stream stop received for conversation: 79e677e9-776a-405a-af9a-0fd7045b804b
2025-06-04 18:09:47,316 - multi_turn_test - INFO - [MOCK] Waiting for LLM response...
2025-06-04 18:09:47,316 - telephony_realtime_bridge - INFO - Buffer state before commit: 2 chunks, 35200 bytes (~1100.0ms of audio)
2025-06-04 18:09:47,316 - telephony_realtime_bridge - INFO - realtime_websocket_object: <bound method Connection.send of <websockets.asyncio.client.ClientConnection object at 0x0000019624DFA8D0>>
2025-06-04 18:09:47,316 - telephony_realtime_bridge - INFO - Audio buffer committed with 2 chunks (35200 bytes)
2025-06-04 18:09:47,316 - telephony_realtime_bridge - INFO - Audio buffer commit sent: {"type":"input_audio_buffer.commit","event_id":null}
2025-06-04 18:09:47,316 - telephony_realtime_bridge - INFO - Response creation triggered after audio buffer commit
2025-06-04 18:09:47,316 - multi_turn_test - INFO - [MOCK] Received from bridge: userStream.stopped
2025-06-04 18:09:47,316 - multi_turn_test - INFO - [MOCK] User stream stopped
2025-06-04 18:09:47,491 - telephony_realtime_bridge - INFO - Received OpenAI message type: input_audio_buffer.committed
2025-06-04 18:09:47,492 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:09:47,492 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:09:47,495 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.created
2025-06-04 18:09:47,496 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.created",
  "event_id": "event_BetOyHALF2A1VFXR5Sf9Q",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetOyCrsRMKj7Wd9EvAq8",
    "status": "in_progress",
    "status_details": null,
    "output": [],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": null,
    "metadata": null
  }
}
2025-06-04 18:09:47,496 - telephony_realtime_bridge - INFO - Response creation started
2025-06-04 18:09:47,931 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.added
2025-06-04 18:09:47,931 - telephony_realtime_bridge - INFO - Output item added: {
  "id": "item_BetOy17SgxcPv4urqSfGX",
  "object": "realtime.item",
  "type": "message",
  "status": "in_progress",
  "role": "assistant",
  "content": []
}
2025-06-04 18:09:47,945 - telephony_realtime_bridge - INFO - Output item added: {'id': 'item_BetOy17SgxcPv4urqSfGX', 'object': 'realtime.item', 'type': 'message', 'status': 'in_progress', 'role': 'assistant', 'content': []}
2025-06-04 18:09:47,945 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:09:47,945 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:09:47,945 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.content_part.added
2025-06-04 18:09:47,945 - telephony_realtime_bridge - INFO - Content part added: {
  "type": "audio",
  "transcript": ""
}
2025-06-04 18:09:47,945 - telephony_realtime_bridge - INFO - Content part added: {'type': 'audio', 'transcript': ''}
2025-06-04 18:09:47,945 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:47,945 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:47,955 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: Thank
2025-06-04 18:09:47,958 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:47,958 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:09:47,959 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  you
2025-06-04 18:09:47,967 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:47,967 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:09:47,968 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  for
2025-06-04 18:09:47,972 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:47,972 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 11
2025-06-04 18:09:47,973 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  confirming
2025-06-04 18:09:47,980 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:47,980 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:47,980 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: .
2025-06-04 18:09:48,057 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:48,057 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 6400
2025-06-04 18:09:48,057 - telephony_realtime_bridge - INFO - Started play stream: 66b82be9-a112-40e6-ab67-29ed965f96bc
2025-06-04 18:09:48,057 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.start
2025-06-04 18:09:48,057 - multi_turn_test - INFO - [MOCK] Play stream started: 66b82be9-a112-40e6-ab67-29ed965f96bc
2025-06-04 18:09:48,057 - multi_turn_test - INFO - [MOCK] Collecting response audio...
2025-06-04 18:09:48,057 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 6400 bytes)
2025-06-04 18:09:48,057 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:48,057 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (6400 bytes base64)
2025-06-04 18:09:48,095 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:48,095 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 9600
2025-06-04 18:09:48,095 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 9600 bytes)
2025-06-04 18:09:48,095 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:48,095 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (9600 bytes base64)
2025-06-04 18:09:48,133 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:48,133 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:09:48,133 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:09:48,133 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:48,133 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,133 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:09:48,133 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 6
2025-06-04 18:09:48,133 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  Could
2025-06-04 18:09:48,195 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:48,195 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:09:48,196 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:09:48,197 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:48,197 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:09:48,229 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:48,230 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:09:48,231 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:09:48,231 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:48,232 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:09:48,260 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,260 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:09:48,260 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  you
2025-06-04 18:09:48,274 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,274 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 7
2025-06-04 18:09:48,274 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  please
2025-06-04 18:09:48,323 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,324 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 8
2025-06-04 18:09:48,324 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  provide
2025-06-04 18:09:48,324 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.input_audio_transcription.delta
2025-06-04 18:09:48,326 - telephony_realtime_bridge - DEBUG - Received input audio transcription delta: It's my gold card.

2025-06-04 18:09:48,326 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.input_audio_transcription.completed
2025-06-04 18:09:48,326 - telephony_realtime_bridge - INFO - Full user transcript (input audio): It's my gold card.

2025-06-04 18:09:48,326 - telephony_realtime_bridge - INFO - Input audio transcription completed
2025-06-04 18:09:48,348 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:48,349 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:09:48,351 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:09:48,351 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:48,351 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:09:48,425 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:48,426 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 32000
2025-06-04 18:09:48,426 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 32000 bytes)
2025-06-04 18:09:48,426 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,426 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:09:48,426 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:48,426 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  the
2025-06-04 18:09:48,426 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (32000 bytes base64)
2025-06-04 18:09:48,426 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,426 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 7
2025-06-04 18:09:48,426 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  reason
2025-06-04 18:09:48,433 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,433 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:09:48,433 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  for
2025-06-04 18:09:48,440 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,441 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 10
2025-06-04 18:09:48,441 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  replacing
2025-06-04 18:09:48,448 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,448 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:48,448 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  your
2025-06-04 18:09:48,448 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,448 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:48,448 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  Gold
2025-06-04 18:09:48,465 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,465 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:48,469 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  card
2025-06-04 18:09:48,472 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,472 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:48,472 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: ?
2025-06-04 18:09:48,619 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:48,620 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 48000
2025-06-04 18:09:48,623 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 48000 bytes)
2025-06-04 18:09:48,623 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:48,623 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (48000 bytes base64)
2025-06-04 18:09:48,699 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,699 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:09:48,700 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  Is
2025-06-04 18:09:48,700 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,700 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:09:48,700 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  it
2025-06-04 18:09:48,713 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,713 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:48,714 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  lost
2025-06-04 18:09:48,721 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,722 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:48,722 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: ,
2025-06-04 18:09:48,725 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,725 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 8
2025-06-04 18:09:48,725 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  damaged
2025-06-04 18:09:48,744 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:48,744 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:48,745 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: ,
2025-06-04 18:09:48,829 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:48,845 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:48,847 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:48,847 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:48,847 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:48,990 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:48,990 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:48,990 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:48,990 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:48,990 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:49,107 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:49,107 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 7
2025-06-04 18:09:49,108 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  stolen
2025-06-04 18:09:49,125 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:49,125 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:49,126 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: ,
2025-06-04 18:09:49,126 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:49,126 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:09:49,126 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  or
2025-06-04 18:09:49,142 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:49,142 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:09:49,142 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  is
2025-06-04 18:09:49,143 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:49,143 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 6
2025-06-04 18:09:49,143 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  there
2025-06-04 18:09:49,148 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:49,148 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 8
2025-06-04 18:09:49,148 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  another
2025-06-04 18:09:49,157 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:49,157 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 7
2025-06-04 18:09:49,158 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  reason
2025-06-04 18:09:49,164 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:49,165 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:49,165 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: ?
2025-06-04 18:09:49,230 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:49,230 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:49,230 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:49,230 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:49,235 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:49,371 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:49,371 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:49,386 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:49,386 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:49,386 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:49,545 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:49,545 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:49,548 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:49,549 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:49,549 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:49,700 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:49,700 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:49,718 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:49,718 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:49,718 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:49,808 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:49,809 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 66264
2025-06-04 18:09:49,812 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 66264 bytes)
2025-06-04 18:09:49,813 - telephony_realtime_bridge - INFO - Received OpenAI message type: rate_limits.updated
2025-06-04 18:09:49,813 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.done
2025-06-04 18:09:49,813 - telephony_realtime_bridge - INFO - Audio response completed
2025-06-04 18:09:49,813 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:49,813 - telephony_realtime_bridge - INFO - Stopped play stream: 66b82be9-a112-40e6-ab67-29ed965f96bc
2025-06-04 18:09:49,813 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (66264 bytes base64)
2025-06-04 18:09:49,813 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.done
2025-06-04 18:09:49,814 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.stop
2025-06-04 18:09:49,814 - telephony_realtime_bridge - INFO - Full AI transcript (output audio): Thank you for confirming. Could you please provide the reason for replacing your Gold card? Is it lost, damaged, stolen, or is there another reason?
2025-06-04 18:09:49,814 - multi_turn_test - INFO - [MOCK] Response collected: 15 chunks
2025-06-04 18:09:49,814 - telephony_realtime_bridge - INFO - Audio transcript completed
2025-06-04 18:09:49,814 - multi_turn_test - INFO - [MOCK] Play stream stopped: 66b82be9-a112-40e6-ab67-29ed965f96bc
2025-06-04 18:09:49,814 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.content_part.done
2025-06-04 18:09:49,815 - telephony_realtime_bridge - INFO - Content part completed
2025-06-04 18:09:49,815 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.done
2025-06-04 18:09:49,815 - telephony_realtime_bridge - INFO - Output item completed
2025-06-04 18:09:49,815 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.done
2025-06-04 18:09:49,815 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.done",
  "event_id": "event_BetP0TmaRkPfOEnEgcK4j",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetOyCrsRMKj7Wd9EvAq8",
    "status": "completed",
    "status_details": null,
    "output": [
      {
        "id": "item_BetOy17SgxcPv4urqSfGX",
        "object": "realtime.item",
        "type": "message",
        "status": "completed",
        "role": "assistant",
        "content": [
          {
            "type": "audio",
            "transcript": "Thank you for confirming. Could you please provide the reason for replacing your Gold card? Is it lost, damaged, stolen, or is there another reason?"
          }
        ]
      }
    ],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": {
      "total_tokens": 1096,
      "input_tokens": 858,
      "output_tokens": 238,
      "input_token_details": {
        "text_tokens": 671,
        "audio_tokens": 187,
        "cached_tokens": 704,
        "cached_tokens_details": {
          "text_tokens": 640,
          "audio_tokens": 64
        }
      },
      "output_token_details": {
        "text_tokens": 49,
        "audio_tokens": 189
      }
    },
    "metadata": null
  }
}
2025-06-04 18:09:49,864 - multi_turn_test - INFO - [MOCK] Response received: 15 chunks
2025-06-04 18:09:49,864 - multi_turn_test - INFO - [MOCK] Turn 2: AI response received (15 chunks)
2025-06-04 18:09:49,867 - multi_turn_test - INFO - [MOCK] Saved audio: turn_02_response_79e677e9.wav (14.30s)
2025-06-04 18:09:49,867 - multi_turn_test - INFO - [MOCK] Waiting 2.0s before next turn...
2025-06-04 18:09:51,870 - multi_turn_test - INFO - 
[MOCK] === Turn 3/5 ===
2025-06-04 18:09:51,870 - multi_turn_test - INFO - [MOCK] Sending: i_lost_it.wav
2025-06-04 18:09:51,870 - multi_turn_test - INFO - [MOCK] Loading audio: i_lost_it.wav
2025-06-04 18:09:51,870 - multi_turn_test - INFO -    Format: 1ch, 16bit, 24000Hz
2025-06-04 18:09:52,313 - multi_turn_test - INFO -    Resampling from 24000Hz to 16000Hz...
2025-06-04 18:09:52,317 - multi_turn_test - INFO -    Split into 1 chunks (~0.61s total)
2025-06-04 18:09:52,317 - multi_turn_test - INFO - [MOCK] Sending user audio: i_lost_it.wav (1 chunks)
2025-06-04 18:09:52,328 - telephony_realtime_bridge - INFO - Received telephony message: userStream.start
2025-06-04 18:09:52,328 - telephony_realtime_bridge - INFO - User stream start received: {'type': 'userStream.start', 'conversationId': '79e677e9-776a-405a-af9a-0fd7045b804b'}
2025-06-04 18:09:52,329 - telephony_realtime_bridge - INFO - User stream started for conversation: 79e677e9-776a-405a-af9a-0fd7045b804b
2025-06-04 18:09:52,329 - multi_turn_test - INFO - [MOCK] Received from bridge: userStream.started
2025-06-04 18:09:52,330 - multi_turn_test - INFO - [MOCK] User stream started
2025-06-04 18:09:52,436 - multi_turn_test - DEBUG - [MOCK] Sent chunk 1/1
2025-06-04 18:09:52,436 - telephony_realtime_bridge - INFO - Received telephony message: userStream.chunk with audio chunk size: 26136 bytes
2025-06-04 18:09:52,436 - telephony_realtime_bridge - DEBUG - Processing audio chunk #1: 19600 -> 19600 bytes (~612.5ms of audio). Total sent: 19600 bytes
2025-06-04 18:09:52,436 - telephony_realtime_bridge - DEBUG - Sending audio to realtime-websocket (size: 26136 bytes base64)
2025-06-04 18:09:52,460 - multi_turn_test - INFO - [MOCK] User audio sent successfully
2025-06-04 18:09:52,460 - multi_turn_test - INFO - [MOCK] Turn 3: User audio sent successfully
2025-06-04 18:09:52,461 - multi_turn_test - INFO - [MOCK] Waiting for LLM response...
2025-06-04 18:09:52,460 - telephony_realtime_bridge - INFO - Received telephony message: userStream.stop
2025-06-04 18:09:52,461 - telephony_realtime_bridge - INFO - User stream stop received for conversation: 79e677e9-776a-405a-af9a-0fd7045b804b
2025-06-04 18:09:52,461 - telephony_realtime_bridge - INFO - Buffer state before commit: 1 chunks, 19600 bytes (~612.5ms of audio)
2025-06-04 18:09:52,461 - telephony_realtime_bridge - INFO - realtime_websocket_object: <bound method Connection.send of <websockets.asyncio.client.ClientConnection object at 0x0000019624DFA8D0>>
2025-06-04 18:09:52,462 - telephony_realtime_bridge - INFO - Audio buffer committed with 1 chunks (19600 bytes)
2025-06-04 18:09:52,462 - telephony_realtime_bridge - INFO - Audio buffer commit sent: {"type":"input_audio_buffer.commit","event_id":null}
2025-06-04 18:09:52,462 - telephony_realtime_bridge - INFO - Response creation triggered after audio buffer commit
2025-06-04 18:09:52,462 - multi_turn_test - INFO - [MOCK] Received from bridge: userStream.stopped
2025-06-04 18:09:52,463 - multi_turn_test - INFO - [MOCK] User stream stopped
2025-06-04 18:09:52,569 - telephony_realtime_bridge - INFO - Received OpenAI message type: input_audio_buffer.committed
2025-06-04 18:09:52,569 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:09:52,569 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:09:52,569 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.input_audio_transcription.delta
2025-06-04 18:09:52,585 - telephony_realtime_bridge - DEBUG - Received input audio transcription delta: 
2025-06-04 18:09:52,586 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.input_audio_transcription.completed
2025-06-04 18:09:52,586 - telephony_realtime_bridge - INFO - Full user transcript (input audio): 
2025-06-04 18:09:52,586 - telephony_realtime_bridge - INFO - Input audio transcription completed
2025-06-04 18:09:52,587 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.created
2025-06-04 18:09:52,587 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.created",
  "event_id": "event_BetP3K6cZiaSHkfW6sK2B",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetP3e1eDCbaJBlskIwf3",
    "status": "in_progress",
    "status_details": null,
    "output": [],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": null,
    "metadata": null
  }
}
2025-06-04 18:09:52,587 - telephony_realtime_bridge - INFO - Response creation started
2025-06-04 18:09:52,904 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.added
2025-06-04 18:09:52,904 - telephony_realtime_bridge - INFO - Output item added: {
  "id": "item_BetP3May9ktDnMSJMuqQO",
  "object": "realtime.item",
  "type": "function_call",
  "status": "in_progress",
  "name": "replacement_reason",
  "call_id": "call_0eHxNsmkLDjxOWFC",
  "arguments": ""
}
2025-06-04 18:09:52,904 - telephony_realtime_bridge - INFO - Output item added: {'id': 'item_BetP3May9ktDnMSJMuqQO', 'object': 'realtime.item', 'type': 'function_call', 'status': 'in_progress', 'name': 'replacement_reason', 'call_id': 'call_0eHxNsmkLDjxOWFC', 'arguments': ''}
2025-06-04 18:09:52,904 - telephony_realtime_bridge - INFO - Captured function call: replacement_reason with call_id: call_0eHxNsmkLDjxOWFC
2025-06-04 18:09:52,904 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:09:52,904 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:09:52,904 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:52,904 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:52,920 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:52,920 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:52,923 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:52,923 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:52,930 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:52,930 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:52,939 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:52,940 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:52,947 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:52,948 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:52,952 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:52,952 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:52,962 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:52,963 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:52,973 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:52,973 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:52,975 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:52,975 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:52,982 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:52,982 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:52,991 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:52,991 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:53,019 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.done
2025-06-04 18:09:53,019 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.done to handler
2025-06-04 18:09:53,020 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.done
2025-06-04 18:09:53,020 - telephony_realtime_bridge - INFO - Output item completed
2025-06-04 18:09:53,023 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.done
2025-06-04 18:09:53,023 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.done",
  "event_id": "event_BetP3ukiy2PiPa73HCaSZ",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetP3e1eDCbaJBlskIwf3",
    "status": "completed",
    "status_details": null,
    "output": [
      {
        "id": "item_BetP3May9ktDnMSJMuqQO",
        "object": "realtime.item",
        "type": "function_call",
        "status": "completed",
        "name": "replacement_reason",
        "call_id": "call_0eHxNsmkLDjxOWFC",
        "arguments": "{\"card_in_context\":\"Gold card\",\"reason\":\"Lost\"}"
      }
    ],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": {
      "total_tokens": 1133,
      "input_tokens": 1110,
      "output_tokens": 23,
      "input_token_details": {
        "text_tokens": 730,
        "audio_tokens": 380,
        "cached_tokens": 960,
        "cached_tokens_details": {
          "text_tokens": 704,
          "audio_tokens": 256
        }
      },
      "output_token_details": {
        "text_tokens": 23,
        "audio_tokens": 0
      }
    },
    "metadata": null
  }
}
2025-06-04 18:09:53,044 - telephony_realtime_bridge - INFO - Received OpenAI message type: rate_limits.updated
2025-06-04 18:09:53,092 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:09:53,092 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:09:53,104 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.created
2025-06-04 18:09:53,104 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.created",
  "event_id": "event_BetP3p2b2AUFxMT2TiVy8",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetP3kD4MV2G1lzjHYBlz",
    "status": "in_progress",
    "status_details": null,
    "output": [],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": null,
    "metadata": null
  }
}
2025-06-04 18:09:53,118 - telephony_realtime_bridge - INFO - Response creation started
2025-06-04 18:09:53,615 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.added
2025-06-04 18:09:53,615 - telephony_realtime_bridge - INFO - Output item added: {
  "id": "item_BetP3pVRv5cz3ZGRn7ShD",
  "object": "realtime.item",
  "type": "message",
  "status": "in_progress",
  "role": "assistant",
  "content": []
}
2025-06-04 18:09:53,615 - telephony_realtime_bridge - INFO - Output item added: {'id': 'item_BetP3pVRv5cz3ZGRn7ShD', 'object': 'realtime.item', 'type': 'message', 'status': 'in_progress', 'role': 'assistant', 'content': []}
2025-06-04 18:09:53,630 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:09:53,630 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:09:53,632 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.content_part.added
2025-06-04 18:09:53,632 - telephony_realtime_bridge - INFO - Content part added: {
  "type": "audio",
  "transcript": ""
}
2025-06-04 18:09:53,632 - telephony_realtime_bridge - INFO - Content part added: {'type': 'audio', 'transcript': ''}
2025-06-04 18:09:53,637 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:53,637 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:09:53,638 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: I'm
2025-06-04 18:09:53,638 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:53,638 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 6
2025-06-04 18:09:53,638 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  sorry
2025-06-04 18:09:53,639 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:53,639 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:09:53,640 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  to
2025-06-04 18:09:53,653 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:53,653 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:53,654 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  hear
2025-06-04 18:09:53,660 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:53,660 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:53,660 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  that
2025-06-04 18:09:53,742 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:53,742 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 6400
2025-06-04 18:09:53,748 - telephony_realtime_bridge - INFO - Started play stream: 001a5d85-8e09-436e-8e44-daaa0676b9cd
2025-06-04 18:09:53,748 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.start
2025-06-04 18:09:53,749 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 6400 bytes)
76b9cd
2025-06-04 18:09:53,749 - multi_turn_test - INFO - [MOCK] Collecting response audio...
2025-06-04 18:09:53,749 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:53,749 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (6400 bytes base64)
2025-06-04 18:09:53,793 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:53,793 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 9600
2025-06-04 18:09:53,803 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 9600 bytes)
2025-06-04 18:09:53,804 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:53,804 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:53,804 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (9600 bytes base64)
2025-06-04 18:09:53,804 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:53,804 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  your
2025-06-04 18:09:53,822 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:53,822 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:09:53,825 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:09:53,826 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:53,826 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:09:53,829 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:53,829 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:53,830 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  Gold
2025-06-04 18:09:53,830 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:53,830 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:53,830 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  card
2025-06-04 18:09:53,895 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:53,896 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:09:53,897 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:09:53,897 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:53,897 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:09:53,932 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:53,932 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:09:53,937 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:09:53,937 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:53,938 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:09:53,953 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:53,953 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:09:53,953 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  is
2025-06-04 18:09:53,963 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:53,963 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:53,963 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  lost
2025-06-04 18:09:53,977 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:53,977 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:53,977 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: .
2025-06-04 18:09:54,042 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:54,042 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:09:54,042 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:09:54,042 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:54,042 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:09:54,115 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,115 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:09:54,115 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  For
2025-06-04 18:09:54,140 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:54,140 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 32000
2025-06-04 18:09:54,141 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 32000 bytes)
2025-06-04 18:09:54,142 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,142 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:54,142 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 9
2025-06-04 18:09:54,142 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (32000 bytes base64)
2025-06-04 18:09:54,143 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  security
2025-06-04 18:09:54,143 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,143 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 9
2025-06-04 18:09:54,143 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  purposes
2025-06-04 18:09:54,143 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,143 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:54,143 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: ,
2025-06-04 18:09:54,143 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,144 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:09:54,144 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  we
2025-06-04 18:09:54,294 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:54,294 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 48000
2025-06-04 18:09:54,294 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 48000 bytes)
2025-06-04 18:09:54,294 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:54,294 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (48000 bytes base64)
2025-06-04 18:09:54,406 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,406 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:54,406 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  need
2025-06-04 18:09:54,413 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,413 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:09:54,413 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  to
2025-06-04 18:09:54,423 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,424 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 8
2025-06-04 18:09:54,424 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  confirm
2025-06-04 18:09:54,430 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,430 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:09:54,430 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  the
2025-06-04 18:09:54,439 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,439 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 8
2025-06-04 18:09:54,439 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  address
2025-06-04 18:09:54,448 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,448 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 6
2025-06-04 18:09:54,448 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  where
2025-06-04 18:09:54,454 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,454 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 6
2025-06-04 18:09:54,454 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  you'd
2025-06-04 18:09:54,462 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,462 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:54,462 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  like
2025-06-04 18:09:54,472 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,473 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:54,473 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  your
2025-06-04 18:09:54,482 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,483 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 12
2025-06-04 18:09:54,483 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  replacement
2025-06-04 18:09:54,567 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:54,567 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:54,587 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:54,587 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:54,587 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:54,718 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:54,718 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:54,718 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:54,718 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:54,718 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:54,852 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,852 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:54,852 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  card
2025-06-04 18:09:54,852 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,852 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:09:54,852 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  to
2025-06-04 18:09:54,879 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:54,879 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:54,883 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:54,883 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,883 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:09:54,883 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  be
2025-06-04 18:09:54,883 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:54,884 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,884 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:54,884 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:54,884 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  sent
2025-06-04 18:09:54,890 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,891 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:54,891 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: .
2025-06-04 18:09:54,896 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,896 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:09:54,896 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  Is
2025-06-04 18:09:54,910 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:54,910 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:54,912 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  your
2025-06-04 18:09:55,103 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:55,103 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:55,106 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:55,106 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:55,107 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:55,256 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:55,256 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:55,256 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:55,256 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:55,256 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:55,284 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:55,284 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 8
2025-06-04 18:09:55,285 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  address
2025-06-04 18:09:55,287 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:55,287 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:09:55,287 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  on
2025-06-04 18:09:55,298 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:55,298 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:09:55,298 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  file
2025-06-04 18:09:55,306 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:55,306 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 6
2025-06-04 18:09:55,306 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  still
2025-06-04 18:09:55,321 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:55,321 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:09:55,321 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  the
2025-06-04 18:09:55,326 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:55,326 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 8
2025-06-04 18:09:55,326 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  correct
2025-06-04 18:09:55,335 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:55,335 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 8
2025-06-04 18:09:55,336 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  address
2025-06-04 18:09:55,495 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:55,498 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:55,500 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:55,500 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:55,500 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:55,655 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:55,655 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:55,661 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:55,661 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:55,661 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:55,715 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:55,715 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:09:55,715 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  for
2025-06-04 18:09:55,730 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:55,730 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 9
2025-06-04 18:09:55,731 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  delivery
2025-06-04 18:09:55,731 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:09:55,731 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:09:55,732 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: ?
2025-06-04 18:09:55,855 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:55,855 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:55,862 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:55,862 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:55,862 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:56,024 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:56,024 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:09:56,027 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:09:56,027 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:56,027 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:09:56,135 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:09:56,135 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 69464
2025-06-04 18:09:56,135 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 69464 bytes)
2025-06-04 18:09:56,135 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:09:56,146 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (69464 bytes base64)
2025-06-04 18:09:56,149 - telephony_realtime_bridge - INFO - Received OpenAI message type: rate_limits.updated
2025-06-04 18:09:56,159 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.done
2025-06-04 18:09:56,159 - telephony_realtime_bridge - INFO - Audio response completed
2025-06-04 18:09:56,159 - telephony_realtime_bridge - INFO - Stopped play stream: 001a5d85-8e09-436e-8e44-daaa0676b9cd
2025-06-04 18:09:56,159 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.stop
2025-06-04 18:09:56,159 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.done
2025-06-04 18:09:56,168 - multi_turn_test - INFO - [MOCK] Response collected: 18 chunks
2025-06-04 18:09:56,168 - telephony_realtime_bridge - INFO - Full AI transcript (output audio): I'm sorry to hear that your Gold card is lost. For security purposes, we need to confirm the address where you'd like your replacement card to be sent. Is your address on file still the correct address for delivery?
2025-06-04 18:09:56,168 - multi_turn_test - INFO - [MOCK] Play stream stopped: 001a5d85-8e09-436e-8e44-daaa0676b9cd
2025-06-04 18:09:56,168 - telephony_realtime_bridge - INFO - Audio transcript completed
2025-06-04 18:09:56,169 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.content_part.done
2025-06-04 18:09:56,169 - telephony_realtime_bridge - INFO - Content part completed
2025-06-04 18:09:56,169 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.done
2025-06-04 18:09:56,170 - telephony_realtime_bridge - INFO - Output item completed
2025-06-04 18:09:56,170 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.done
2025-06-04 18:09:56,171 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.done",
  "event_id": "event_BetP6sneJIiwZxIj7ADUf",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetP3kD4MV2G1lzjHYBlz",
    "status": "completed",
    "status_details": null,
    "output": [
      {
        "id": "item_BetP3pVRv5cz3ZGRn7ShD",
        "object": "realtime.item",
        "type": "message",
        "status": "completed",
        "role": "assistant",
        "content": [
          {
            "type": "audio",
            "transcript": "I'm sorry to hear that your Gold card is lost. For security purposes, we need to confirm the address where you'd like your replacement card to be sent. Is your address on file still the correct address for delivery?"
          }
        ]
      }
    ],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": {
      "total_tokens": 1586,
      "input_tokens": 1273,
      "output_tokens": 313,
      "input_token_details": {
        "text_tokens": 893,
        "audio_tokens": 380,
        "cached_tokens": 512,
        "cached_tokens_details": {
          "text_tokens": 512,
          "audio_tokens": 0
        }
      },
      "output_token_details": {
        "text_tokens": 63,
        "audio_tokens": 250
      }
    },
    "metadata": null
  }
}
2025-06-04 18:09:56,193 - multi_turn_test - INFO - [MOCK] Response received: 18 chunks
2025-06-04 18:09:56,193 - multi_turn_test - INFO - [MOCK] Turn 3: AI response received (18 chunks)
2025-06-04 18:09:56,197 - multi_turn_test - INFO - [MOCK] Saved audio: turn_03_response_79e677e9.wav (18.88s)
2025-06-04 18:09:56,197 - multi_turn_test - INFO - [MOCK] Waiting 2.0s before next turn...
2025-06-04 18:09:58,204 - multi_turn_test - INFO - 
[MOCK] === Turn 4/5 ===
2025-06-04 18:09:58,204 - multi_turn_test - INFO - [MOCK] Sending: yes_that_address.wav
2025-06-04 18:09:58,204 - multi_turn_test - INFO - [MOCK] Loading audio: yes_that_address.wav
2025-06-04 18:09:58,204 - multi_turn_test - INFO -    Format: 1ch, 16bit, 24000Hz
2025-06-04 18:09:58,617 - multi_turn_test - INFO -    Resampling from 24000Hz to 16000Hz...
2025-06-04 18:09:58,631 - multi_turn_test - INFO -    Split into 2 chunks (~1.54s total)
2025-06-04 18:09:58,631 - multi_turn_test - INFO - [MOCK] Sending user audio: yes_that_address.wav (2 chunks)
2025-06-04 18:09:58,631 - telephony_realtime_bridge - INFO - Received telephony message: userStream.start
2025-06-04 18:09:58,631 - telephony_realtime_bridge - INFO - User stream start received: {'type': 'userStream.start', 'conversationId': '79e677e9-776a-405a-af9a-0fd7045b804b'}
2025-06-04 18:09:58,631 - telephony_realtime_bridge - INFO - User stream started for conversation: 79e677e9-776a-405a-af9a-0fd7045b804b
2025-06-04 18:09:58,631 - multi_turn_test - INFO - [MOCK] Received from bridge: userStream.started
2025-06-04 18:09:58,631 - multi_turn_test - INFO - [MOCK] User stream started
2025-06-04 18:09:58,753 - multi_turn_test - DEBUG - [MOCK] Sent chunk 1/2
2025-06-04 18:09:58,753 - telephony_realtime_bridge - INFO - Received telephony message: userStream.chunk with audio chunk size: 42668 bytes
2025-06-04 18:09:58,753 - telephony_realtime_bridge - DEBUG - Processing audio chunk #1: 32000 -> 32000 bytes (~1000.0ms of audio). Total sent: 32000 bytes
2025-06-04 18:09:58,753 - telephony_realtime_bridge - DEBUG - Sending audio to realtime-websocket (size: 42668 bytes base64)
2025-06-04 18:09:58,784 - multi_turn_test - DEBUG - [MOCK] Sent chunk 2/2
2025-06-04 18:09:58,784 - telephony_realtime_bridge - INFO - Received telephony message: userStream.chunk with audio chunk size: 22936 bytes
2025-06-04 18:09:58,785 - telephony_realtime_bridge - DEBUG - Processing audio chunk #2: 17200 -> 17200 bytes (~537.5ms of audio). Total sent: 49200 bytes
2025-06-04 18:09:58,785 - telephony_realtime_bridge - DEBUG - Sending audio to realtime-websocket (size: 22936 bytes base64)
2025-06-04 18:09:58,814 - multi_turn_test - INFO - [MOCK] User audio sent successfully
2025-06-04 18:09:58,814 - telephony_realtime_bridge - INFO - Received telephony message: userStream.stop
2025-06-04 18:09:58,814 - multi_turn_test - INFO - [MOCK] Turn 4: User audio sent successfully
2025-06-04 18:09:58,814 - telephony_realtime_bridge - INFO - User stream stop received for conversation: 79e677e9-776a-405a-af9a-0fd7045b804b
2025-06-04 18:09:58,815 - telephony_realtime_bridge - INFO - Buffer state before commit: 2 chunks, 49200 bytes (~1537.5ms of audio)
2025-06-04 18:09:58,815 - multi_turn_test - INFO - [MOCK] Waiting for LLM response...
2025-06-04 18:09:58,816 - telephony_realtime_bridge - INFO - realtime_websocket_object: <bound method Connection.send of <websockets.asyncio.client.ClientConnection object at 0x0000019624DFA8D0>>
2025-06-04 18:09:58,816 - telephony_realtime_bridge - INFO - Audio buffer committed with 2 chunks (49200 bytes)
2025-06-04 18:09:58,816 - telephony_realtime_bridge - INFO - Audio buffer commit sent: {"type":"input_audio_buffer.commit","event_id":null}
2025-06-04 18:09:58,816 - telephony_realtime_bridge - INFO - Response creation triggered after audio buffer commit
2025-06-04 18:09:58,816 - multi_turn_test - INFO - [MOCK] Received from bridge: userStream.stopped
2025-06-04 18:09:58,816 - multi_turn_test - INFO - [MOCK] User stream stopped
2025-06-04 18:09:58,986 - telephony_realtime_bridge - INFO - Received OpenAI message type: input_audio_buffer.committed
2025-06-04 18:09:58,997 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:09:58,997 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:09:58,997 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.created
2025-06-04 18:09:58,997 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.created",
  "event_id": "event_BetP9Nmt2efnMoObqPUp1",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetP9f5oXWKiIN0gN5UKe",
    "status": "in_progress",
    "status_details": null,
    "output": [],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": null,
    "metadata": null
  }
}
2025-06-04 18:09:58,997 - telephony_realtime_bridge - INFO - Response creation started
2025-06-04 18:09:59,607 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.added
2025-06-04 18:09:59,608 - telephony_realtime_bridge - INFO - Output item added: {
  "id": "item_BetP9UnOJ3OqTJzfW3EXg",
  "object": "realtime.item",
  "type": "function_call",
  "status": "in_progress",
  "name": "confirm_address",
  "call_id": "call_O1z7J2U9IqM7DiJO",
  "arguments": ""
}
2025-06-04 18:09:59,608 - telephony_realtime_bridge - INFO - Output item added: {'id': 'item_BetP9UnOJ3OqTJzfW3EXg', 'object': 'realtime.item', 'type': 'function_call', 'status': 'in_progress', 'name': 'confirm_address', 'call_id': 'call_O1z7J2U9IqM7DiJO', 'arguments': ''}
2025-06-04 18:09:59,609 - telephony_realtime_bridge - INFO - Captured function call: confirm_address with call_id: call_O1z7J2U9IqM7DiJO
2025-06-04 18:09:59,609 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:09:59,609 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:09:59,609 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:59,609 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:59,609 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:59,609 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:59,612 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:59,612 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:59,619 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:59,619 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:59,625 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:59,627 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:59,635 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:59,636 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:59,644 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:59,645 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:59,649 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:59,649 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:59,658 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:59,659 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:59,667 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:59,667 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:59,674 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:59,674 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:59,686 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:59,688 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:59,689 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:59,689 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:59,697 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.delta
2025-06-04 18:09:59,698 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.delta to handler
2025-06-04 18:09:59,723 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.function_call_arguments.done
2025-06-04 18:09:59,723 - telephony_realtime_bridge - INFO - ðŸŽ¯ Routing response.function_call_arguments.done to handler
2025-06-04 18:09:59,724 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.done
2025-06-04 18:09:59,724 - telephony_realtime_bridge - INFO - Output item completed
2025-06-04 18:09:59,730 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.done
2025-06-04 18:09:59,731 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.done",
  "event_id": "event_BetPAob4z6XjmcNHsRJg9",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetP9f5oXWKiIN0gN5UKe",
    "status": "completed",
    "status_details": null,
    "output": [
      {
        "id": "item_BetP9UnOJ3OqTJzfW3EXg",
        "object": "realtime.item",
        "type": "function_call",
        "status": "completed",
        "name": "confirm_address",
        "call_id": "call_O1z7J2U9IqM7DiJO",
        "arguments": "{\"card_in_context\":\"Gold card\",\"address_on_file\":\"yes\"}"
      }
    ],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": {
      "total_tokens": 1630,
      "input_tokens": 1606,
      "output_tokens": 24,
      "input_token_details": {
        "text_tokens": 966,
        "audio_tokens": 640,
        "cached_tokens": 1536,
        "cached_tokens_details": {
          "text_tokens": 960,
          "audio_tokens": 576
        }
      },
      "output_token_details": {
        "text_tokens": 24,
        "audio_tokens": 0
      }
    },
    "metadata": null
  }
}
2025-06-04 18:09:59,731 - telephony_realtime_bridge - INFO - Received OpenAI message type: rate_limits.updated
2025-06-04 18:09:59,812 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:09:59,812 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:09:59,812 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.created
2025-06-04 18:09:59,812 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.created",
  "event_id": "event_BetPAzXRjOT0IYwClQdzg",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetPAlvG0aKvzjJS3ayv6",
    "status": "in_progress",
    "status_details": null,
    "output": [],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": null,
    "metadata": null
  }
}
2025-06-04 18:09:59,812 - telephony_realtime_bridge - INFO - Response creation started
2025-06-04 18:10:00,340 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.input_audio_transcription.delta
2025-06-04 18:10:00,341 - telephony_realtime_bridge - DEBUG - Received input audio transcription delta: Yes, send it to that address.

2025-06-04 18:10:00,341 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.input_audio_transcription.completed
2025-06-04 18:10:00,341 - telephony_realtime_bridge - INFO - Full user transcript (input audio): Yes, send it to that address.

2025-06-04 18:10:00,341 - telephony_realtime_bridge - INFO - Input audio transcription completed
2025-06-04 18:10:00,424 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.added
2025-06-04 18:10:00,424 - telephony_realtime_bridge - INFO - Output item added: {
  "id": "item_BetPAEFlUvmukxmZ1Osk2",
  "object": "realtime.item",
  "type": "message",
  "status": "in_progress",
  "role": "assistant",
  "content": []
}
2025-06-04 18:10:00,425 - telephony_realtime_bridge - INFO - Output item added: {'id': 'item_BetPAEFlUvmukxmZ1Osk2', 'object': 'realtime.item', 'type': 'message', 'status': 'in_progress', 'role': 'assistant', 'content': []}
2025-06-04 18:10:00,426 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:10:00,426 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:10:00,435 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.content_part.added
2025-06-04 18:10:00,435 - telephony_realtime_bridge - INFO - Content part added: {
  "type": "audio",
  "transcript": ""
}
2025-06-04 18:10:00,435 - telephony_realtime_bridge - INFO - Content part added: {'type': 'audio', 'transcript': ''}
2025-06-04 18:10:00,437 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:00,438 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:00,438 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: Thank
2025-06-04 18:10:00,447 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:00,447 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:10:00,447 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  you
2025-06-04 18:10:00,451 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:00,451 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:10:00,451 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  for
2025-06-04 18:10:00,459 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:00,459 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 11
2025-06-04 18:10:00,459 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  confirming
2025-06-04 18:10:00,472 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:00,472 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:00,472 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  your
2025-06-04 18:10:00,579 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:00,579 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 6400
2025-06-04 18:10:00,580 - telephony_realtime_bridge - INFO - Started play stream: e0fd92c5-e5d7-443d-8f1b-fd27b388353d
2025-06-04 18:10:00,580 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.start
2025-06-04 18:10:00,581 - multi_turn_test - INFO - [MOCK] Play stream started: e0fd92c5-e5d7-443d-8f1b-fd27b388353d
2025-06-04 18:10:00,581 - multi_turn_test - INFO - [MOCK] Collecting response audio...
2025-06-04 18:10:00,581 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 6400 bytes)
2025-06-04 18:10:00,582 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:00,582 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (6400 bytes base64)
2025-06-04 18:10:00,616 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:00,616 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 9600
2025-06-04 18:10:00,616 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 9600 bytes)
2025-06-04 18:10:00,616 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:00,616 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 8
2025-06-04 18:10:00,616 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (9600 bytes base64)
2025-06-04 18:10:00,616 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  address
2025-06-04 18:10:00,625 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:00,625 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:10:00,625 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: .
2025-06-04 18:10:00,661 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:00,661 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:10:00,670 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:10:00,671 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:00,671 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:10:00,700 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:00,700 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:10:00,700 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:10:00,700 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:00,703 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:10:00,736 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:00,736 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:10:00,737 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:10:00,739 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:00,739 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:10:00,755 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:00,759 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 2
2025-06-04 18:10:00,759 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  I
2025-06-04 18:10:00,767 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:00,767 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:00,767 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  will
2025-06-04 18:10:00,775 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:00,775 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 8
2025-06-04 18:10:00,775 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  proceed
2025-06-04 18:10:00,861 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:00,861 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:10:00,863 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:10:00,863 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:00,863 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:10:00,906 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:00,906 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:00,906 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  with
2025-06-04 18:10:00,916 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:00,916 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 8
2025-06-04 18:10:00,916 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  sending
2025-06-04 18:10:00,929 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:00,929 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:00,929 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  your
2025-06-04 18:10:00,935 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:00,936 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 32000
2025-06-04 18:10:00,937 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 32000 bytes)
2025-06-04 18:10:00,938 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:00,938 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:00,938 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 12
2025-06-04 18:10:00,938 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (32000 bytes base64)
2025-06-04 18:10:00,938 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  replacement
2025-06-04 18:10:00,943 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:00,943 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:00,943 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  Gold
2025-06-04 18:10:01,114 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:01,114 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 48000
2025-06-04 18:10:01,114 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 48000 bytes)
2025-06-04 18:10:01,114 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:01,114 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (48000 bytes base64)
2025-06-04 18:10:01,203 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:01,203 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:01,203 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  card
2025-06-04 18:10:01,203 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:01,203 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:10:01,203 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  to
2025-06-04 18:10:01,217 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:01,217 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:10:01,217 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  the
2025-06-04 18:10:01,224 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:01,224 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 8
2025-06-04 18:10:01,225 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  address
2025-06-04 18:10:01,237 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:01,237 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:10:01,237 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  we
2025-06-04 18:10:01,250 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:01,250 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:01,250 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  have
2025-06-04 18:10:01,250 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:01,250 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:10:01,250 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  on
2025-06-04 18:10:01,255 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:01,255 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:01,255 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  file
2025-06-04 18:10:01,265 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:01,265 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:10:01,265 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: .
2025-06-04 18:10:01,357 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:01,357 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:10:01,357 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:10:01,357 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:01,357 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:10:01,524 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:01,524 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:10:01,528 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:10:01,528 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:01,528 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:10:01,646 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:01,646 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 7
2025-06-04 18:10:01,646 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  Please
2025-06-04 18:10:01,646 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:01,646 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 6
2025-06-04 18:10:01,646 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  allow
2025-06-04 18:10:01,676 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:01,676 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:10:01,679 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:10:01,679 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:01,679 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:01,679 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:01,679 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:10:01,680 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  some
2025-06-04 18:10:01,680 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:01,680 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:01,680 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  time
2025-06-04 18:10:01,898 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:01,898 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:10:01,898 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:10:01,898 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:01,898 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:10:02,035 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:02,035 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:10:02,046 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:10:02,046 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:02,046 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:10:02,046 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:02,046 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:10:02,046 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  for
2025-06-04 18:10:02,075 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:02,075 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 9
2025-06-04 18:10:02,075 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  delivery
2025-06-04 18:10:02,075 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:02,075 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:10:02,076 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: .
2025-06-04 18:10:02,076 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:02,076 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:10:02,076 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  If
2025-06-04 18:10:02,081 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:02,081 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:10:02,082 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  you
2025-06-04 18:10:02,089 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:02,089 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:02,089 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  have
2025-06-04 18:10:02,096 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:02,096 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:10:02,096 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  any
2025-06-04 18:10:02,102 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:02,102 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 8
2025-06-04 18:10:02,102 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  further
2025-06-04 18:10:02,275 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:02,275 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:10:02,284 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:10:02,284 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:02,286 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:10:02,423 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:02,423 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:10:02,423 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:10:02,423 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:02,433 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:10:02,471 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:02,471 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 10
2025-06-04 18:10:02,471 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  questions
2025-06-04 18:10:02,484 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:02,484 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:10:02,484 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  or
2025-06-04 18:10:02,631 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:02,631 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:02,631 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  need
2025-06-04 18:10:02,647 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:02,647 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 11
2025-06-04 18:10:02,647 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  additional
2025-06-04 18:10:02,651 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:02,651 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 11
2025-06-04 18:10:02,652 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  assistance
2025-06-04 18:10:02,659 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:02,659 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:10:02,659 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: ,
2025-06-04 18:10:02,669 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:02,670 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:02,670 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  feel
2025-06-04 18:10:02,824 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:02,824 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:10:02,840 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:10:02,840 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:02,844 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:10:02,987 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:02,987 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:10:02,987 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:10:02,987 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:02,987 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:10:03,070 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:03,070 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:03,070 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  free
2025-06-04 18:10:03,070 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:03,070 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:10:03,070 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  to
2025-06-04 18:10:03,081 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:03,081 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 6
2025-06-04 18:10:03,081 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  reach
2025-06-04 18:10:03,087 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:03,087 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:10:03,091 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  out
2025-06-04 18:10:03,098 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:03,098 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:10:03,098 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: .
2025-06-04 18:10:03,099 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:03,099 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:03,099 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  Have
2025-06-04 18:10:03,107 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:03,107 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 2
2025-06-04 18:10:03,107 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  a
2025-06-04 18:10:03,119 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:03,120 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 6
2025-06-04 18:10:03,120 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  great
2025-06-04 18:10:03,127 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:03,127 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:10:03,127 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  day
2025-06-04 18:10:03,129 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:03,129 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:10:03,129 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: !
2025-06-04 18:10:03,239 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:03,253 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:10:03,255 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:10:03,255 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:03,255 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:10:03,403 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:03,403 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:10:03,403 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:10:03,403 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:03,403 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:10:03,551 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:03,552 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:10:03,556 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:10:03,557 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:03,558 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:10:03,715 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:03,715 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:10:03,719 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:10:03,720 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:03,722 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:10:03,762 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:03,762 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 47064
2025-06-04 18:10:03,764 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 47064 bytes)
2025-06-04 18:10:03,765 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:03,765 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (47064 bytes base64)
2025-06-04 18:10:03,780 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.done
2025-06-04 18:10:03,780 - telephony_realtime_bridge - INFO - Audio response completed
2025-06-04 18:10:03,781 - telephony_realtime_bridge - INFO - Stopped play stream: e0fd92c5-e5d7-443d-8f1b-fd27b388353d
2025-06-04 18:10:03,781 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.done
2025-06-04 18:10:03,781 - telephony_realtime_bridge - INFO - Full AI transcript (output audio): Thank you for confirming your address. I will proceed with sending your replacement Gold card to the address we have on file. Please allow some time for delivery. If you have any further questions or need additional assistance, feel free to reach out. Have a great day!
2025-06-04 18:10:03,781 - multi_turn_test - INFO - [MOCK] Response collected: 22 chunks
2025-06-04 18:10:03,782 - multi_turn_test - INFO - [MOCK] Play stream stopped: e0fd92c5-e5d7-443d-8f1b-fd27b388353d
2025-06-04 18:10:03,781 - telephony_realtime_bridge - INFO - Audio transcript completed
2025-06-04 18:10:03,782 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.content_part.done
2025-06-04 18:10:03,782 - telephony_realtime_bridge - INFO - Content part completed
2025-06-04 18:10:03,782 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.done
2025-06-04 18:10:03,782 - telephony_realtime_bridge - INFO - Output item completed
2025-06-04 18:10:03,783 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.done
2025-06-04 18:10:03,783 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.done",
  "event_id": "event_BetPECqYjF5F383sBit6H",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetPAlvG0aKvzjJS3ayv6",
    "status": "completed",
    "status_details": null,
    "output": [
      {
        "id": "item_BetPAEFlUvmukxmZ1Osk2",
        "object": "realtime.item",
        "type": "message",
        "status": "completed",
        "role": "assistant",
        "content": [
          {
            "type": "audio",
            "transcript": "Thank you for confirming your address. I will proceed with sending your replacement Gold card to the address we have on file. Please allow some time for delivery. If you have any further questions or need additional assistance, feel free to reach out. Have a great day!"
          }
        ]
      }
    ],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": {
      "total_tokens": 2159,
      "input_tokens": 1759,
      "output_tokens": 400,
      "input_token_details": {
        "text_tokens": 1119,
        "audio_tokens": 640,
        "cached_tokens": 0,
        "cached_tokens_details": {
          "text_tokens": 0,
          "audio_tokens": 0
        }
      },
      "output_token_details": {
        "text_tokens": 77,
        "audio_tokens": 323
      }
    },
    "metadata": null
  }
}
2025-06-04 18:10:03,806 - telephony_realtime_bridge - INFO - Received OpenAI message type: rate_limits.updated
2025-06-04 18:10:03,865 - multi_turn_test - INFO - [MOCK] Response received: 22 chunks
2025-06-04 18:10:03,865 - multi_turn_test - INFO - [MOCK] Turn 4: AI response received (22 chunks)
2025-06-04 18:10:03,872 - multi_turn_test - INFO - [MOCK] Saved audio: turn_04_response_79e677e9.wav (24.35s)
2025-06-04 18:10:03,872 - multi_turn_test - INFO - [MOCK] Waiting 2.0s before next turn...
2025-06-04 18:10:05,888 - multi_turn_test - INFO - 
[MOCK] === Turn 5/5 ===
2025-06-04 18:10:05,888 - multi_turn_test - INFO - [MOCK] Sending: thanks_thats_all.wav
2025-06-04 18:10:05,888 - multi_turn_test - INFO - [MOCK] Loading audio: thanks_thats_all.wav
2025-06-04 18:10:05,888 - multi_turn_test - INFO -    Format: 1ch, 16bit, 24000Hz
2025-06-04 18:10:06,312 - multi_turn_test - INFO -    Resampling from 24000Hz to 16000Hz...
2025-06-04 18:10:06,325 - multi_turn_test - INFO -    Split into 1 chunks (~0.93s total)
2025-06-04 18:10:06,327 - multi_turn_test - INFO - [MOCK] Sending user audio: thanks_thats_all.wav (1 chunks)
2025-06-04 18:10:06,327 - telephony_realtime_bridge - INFO - Received telephony message: userStream.start
2025-06-04 18:10:06,327 - telephony_realtime_bridge - INFO - User stream start received: {'type': 'userStream.start', 'conversationId': '79e677e9-776a-405a-af9a-0fd7045b804b'}
2025-06-04 18:10:06,328 - multi_turn_test - INFO - [MOCK] Received from bridge: userStream.started
2025-06-04 18:10:06,328 - telephony_realtime_bridge - INFO - User stream started for conversation: 79e677e9-776a-405a-af9a-0fd7045b804b
2025-06-04 18:10:06,328 - multi_turn_test - INFO - [MOCK] User stream started
2025-06-04 18:10:06,419 - multi_turn_test - DEBUG - [MOCK] Sent chunk 1/1
2025-06-04 18:10:06,419 - telephony_realtime_bridge - INFO - Received telephony message: userStream.chunk with audio chunk size: 39468 bytes
2025-06-04 18:10:06,419 - telephony_realtime_bridge - DEBUG - Processing audio chunk #1: 29600 -> 29600 bytes (~925.0ms of audio). Total sent: 29600 bytes
2025-06-04 18:10:06,419 - telephony_realtime_bridge - DEBUG - Sending audio to realtime-websocket (size: 39468 bytes base64)
2025-06-04 18:10:06,448 - telephony_realtime_bridge - INFO - Received telephony message: userStream.stop
2025-06-04 18:10:06,448 - telephony_realtime_bridge - INFO - User stream stop received for conversation: 79e677e9-776a-405a-af9a-0fd7045b804b
2025-06-04 18:10:06,448 - multi_turn_test - INFO - [MOCK] User audio sent successfully
2025-06-04 18:10:06,448 - telephony_realtime_bridge - INFO - Buffer state before commit: 1 chunks, 29600 bytes (~925.0ms of audio)
2025-06-04 18:10:06,448 - multi_turn_test - INFO - [MOCK] Turn 5: User audio sent successfully
2025-06-04 18:10:06,448 - multi_turn_test - INFO - [MOCK] Waiting for LLM response...
2025-06-04 18:10:06,448 - telephony_realtime_bridge - INFO - realtime_websocket_object: <bound method Connection.send of <websockets.asyncio.client.ClientConnection object at 0x0000019624DFA8D0>>
2025-06-04 18:10:06,450 - telephony_realtime_bridge - INFO - Audio buffer committed with 1 chunks (29600 bytes)
2025-06-04 18:10:06,450 - telephony_realtime_bridge - INFO - Audio buffer commit sent: {"type":"input_audio_buffer.commit","event_id":null}
2025-06-04 18:10:06,450 - telephony_realtime_bridge - INFO - Response creation triggered after audio buffer commit
2025-06-04 18:10:06,450 - multi_turn_test - INFO - [MOCK] Received from bridge: userStream.stopped
2025-06-04 18:10:06,450 - multi_turn_test - INFO - [MOCK] User stream stopped
2025-06-04 18:10:06,611 - telephony_realtime_bridge - INFO - Received OpenAI message type: input_audio_buffer.committed
2025-06-04 18:10:06,611 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:10:06,611 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:10:06,612 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.created
2025-06-04 18:10:06,612 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.created",
  "event_id": "event_BetPH80KzNYB4rJyWIwsy",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetPHDI3drilcZtcMLMbc",
    "status": "in_progress",
    "status_details": null,
    "output": [],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": null,
    "metadata": null
  }
}
2025-06-04 18:10:06,612 - telephony_realtime_bridge - INFO - Response creation started
2025-06-04 18:10:07,096 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.added
2025-06-04 18:10:07,097 - telephony_realtime_bridge - INFO - Output item added: {
  "id": "item_BetPHRN2LdFWkV3R9Oa2E",
  "object": "realtime.item",
  "type": "message",
  "status": "in_progress",
  "role": "assistant",
  "content": []
}
2025-06-04 18:10:07,097 - telephony_realtime_bridge - INFO - Output item added: {'id': 'item_BetPHRN2LdFWkV3R9Oa2E', 'object': 'realtime.item', 'type': 'message', 'status': 'in_progress', 'role': 'assistant', 'content': []}
2025-06-04 18:10:07,097 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.created
2025-06-04 18:10:07,097 - telephony_realtime_bridge - INFO - Conversation item created
2025-06-04 18:10:07,109 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.content_part.added
2025-06-04 18:10:07,109 - telephony_realtime_bridge - INFO - Content part added: {
  "type": "audio",
  "transcript": ""
}
2025-06-04 18:10:07,110 - telephony_realtime_bridge - INFO - Content part added: {'type': 'audio', 'transcript': ''}
2025-06-04 18:10:07,114 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,114 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 6
2025-06-04 18:10:07,115 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: You're
2025-06-04 18:10:07,119 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,119 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 8
2025-06-04 18:10:07,120 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  welcome
2025-06-04 18:10:07,130 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,131 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:10:07,131 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: !
2025-06-04 18:10:07,131 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,131 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 3
2025-06-04 18:10:07,131 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  If
2025-06-04 18:10:07,244 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:07,244 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 6400
2025-06-04 18:10:07,244 - telephony_realtime_bridge - INFO - Started play stream: 00ddfee7-68ee-492d-bc04-03484dbc0511
2025-06-04 18:10:07,244 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.start
2025-06-04 18:10:07,244 - multi_turn_test - INFO - [MOCK] Play stream started: 00ddfee7-68ee-492d-bc04-03484dbc0511
2025-06-04 18:10:07,244 - multi_turn_test - INFO - [MOCK] Collecting response audio...
2025-06-04 18:10:07,244 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 6400 bytes)
2025-06-04 18:10:07,244 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:07,244 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (6400 bytes base64)
2025-06-04 18:10:07,278 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:07,278 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 9600
2025-06-04 18:10:07,278 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 9600 bytes)
2025-06-04 18:10:07,281 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,278 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:07,281 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:10:07,281 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (9600 bytes base64)
2025-06-04 18:10:07,281 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  you
2025-06-04 18:10:07,285 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,285 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:07,285 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  need
2025-06-04 18:10:07,285 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,285 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:10:07,285 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  any
2025-06-04 18:10:07,305 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,306 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:07,306 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  more
2025-06-04 18:10:07,351 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:07,351 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:10:07,352 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:10:07,352 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:07,353 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:10:07,414 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:07,415 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:10:07,415 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:10:07,415 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:07,415 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:10:07,436 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,437 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:07,437 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  help
2025-06-04 18:10:07,448 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,449 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:10:07,449 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: ,
2025-06-04 18:10:07,449 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,450 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 6
2025-06-04 18:10:07,450 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  we're
2025-06-04 18:10:07,458 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,459 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:07,459 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  here
2025-06-04 18:10:07,463 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:07,463 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:10:07,464 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:10:07,465 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:07,465 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:10:07,579 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:07,580 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 16000
2025-06-04 18:10:07,581 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 16000 bytes)
2025-06-04 18:10:07,581 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:07,582 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (16000 bytes base64)
2025-06-04 18:10:07,593 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,593 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:10:07,593 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  for
2025-06-04 18:10:07,606 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,606 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:10:07,606 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  you
2025-06-04 18:10:07,618 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,618 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:10:07,618 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: .
2025-06-04 18:10:07,623 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,623 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 5
2025-06-04 18:10:07,624 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  Have
2025-06-04 18:10:07,626 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,626 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 2
2025-06-04 18:10:07,626 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  a
2025-06-04 18:10:07,637 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,637 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 10
2025-06-04 18:10:07,637 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  wonderful
2025-06-04 18:10:07,645 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,645 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 4
2025-06-04 18:10:07,645 - telephony_realtime_bridge - DEBUG - Received audio transcript delta:  day
2025-06-04 18:10:07,655 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.delta
2025-06-04 18:10:07,655 - telephony_realtime_bridge - INFO - Audio event: response.audio_transcript.delta - delta size: 1
2025-06-04 18:10:07,655 - telephony_realtime_bridge - DEBUG - Received audio transcript delta: !
2025-06-04 18:10:07,769 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:07,769 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 32000
2025-06-04 18:10:07,769 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 32000 bytes)
2025-06-04 18:10:07,769 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:07,769 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (32000 bytes base64)
2025-06-04 18:10:07,880 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:07,880 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 48000
2025-06-04 18:10:07,885 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 48000 bytes)
2025-06-04 18:10:07,885 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.input_audio_transcription.delta
2025-06-04 18:10:07,885 - telephony_realtime_bridge - DEBUG - Received input audio transcription delta: Thanks, that's all.

2025-06-04 18:10:07,885 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:07,885 - telephony_realtime_bridge - INFO - Received OpenAI message type: conversation.item.input_audio_transcription.completed
2025-06-04 18:10:07,885 - telephony_realtime_bridge - INFO - Full user transcript (input audio): Thanks, that's all.

2025-06-04 18:10:07,885 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (48000 bytes base64)
2025-06-04 18:10:07,885 - telephony_realtime_bridge - INFO - Input audio transcription completed
2025-06-04 18:10:08,022 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:08,022 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 64000
2025-06-04 18:10:08,022 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 64000 bytes)
2025-06-04 18:10:08,022 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:08,022 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (64000 bytes base64)
2025-06-04 18:10:08,246 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.delta
2025-06-04 18:10:08,259 - telephony_realtime_bridge - INFO - Audio event: response.audio.delta - delta size: 88664
2025-06-04 18:10:08,264 - telephony_realtime_bridge - DEBUG - Sent audio chunk to client (size: 88664 bytes)
2025-06-04 18:10:08,264 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.chunk
2025-06-04 18:10:08,264 - multi_turn_test - DEBUG - [MOCK] Received audio chunk (88664 bytes base64)
2025-06-04 18:10:08,273 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio.done
2025-06-04 18:10:08,273 - telephony_realtime_bridge - INFO - Audio response completed
2025-06-04 18:10:08,274 - telephony_realtime_bridge - INFO - Stopped play stream: 00ddfee7-68ee-492d-bc04-03484dbc0511
2025-06-04 18:10:08,274 - multi_turn_test - INFO - [MOCK] Received from bridge: playStream.stop
2025-06-04 18:10:08,274 - multi_turn_test - INFO - [MOCK] Response collected: 10 chunks
2025-06-04 18:10:08,274 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.audio_transcript.done
2025-06-04 18:10:08,274 - multi_turn_test - INFO - [MOCK] Play stream stopped: 00ddfee7-68ee-492d-bc04-03484dbc0511
2025-06-04 18:10:08,274 - telephony_realtime_bridge - INFO - Full AI transcript (output audio): You're welcome! If you need any more help, we're here for you. Have a wonderful day!
2025-06-04 18:10:08,274 - telephony_realtime_bridge - INFO - Audio transcript completed
2025-06-04 18:10:08,275 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.content_part.done
2025-06-04 18:10:08,275 - telephony_realtime_bridge - INFO - Content part completed
2025-06-04 18:10:08,275 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.output_item.done
2025-06-04 18:10:08,275 - telephony_realtime_bridge - INFO - Output item completed
2025-06-04 18:10:08,276 - telephony_realtime_bridge - INFO - Received OpenAI message type: response.done
2025-06-04 18:10:08,276 - telephony_realtime_bridge - INFO - Response event details: {
  "type": "response.done",
  "event_id": "event_BetPIJDekwUC8nEjBCAmd",
  "response": {
    "object": "realtime.response",
    "id": "resp_BetPHDI3drilcZtcMLMbc",
    "status": "completed",
    "status_details": null,
    "output": [
      {
        "id": "item_BetPHRN2LdFWkV3R9Oa2E",
        "object": "realtime.item",
        "type": "message",
        "status": "completed",
        "role": "assistant",
        "content": [
          {
            "type": "audio",
            "transcript": "You're welcome! If you need any more help, we're here for you. Have a wonderful day!"
          }
        ]
      }
    ],
    "conversation_id": "conv_BetOort2W60vxQUgfHKOG",
    "modalities": [
      "text",
      "audio"
    ],
    "voice": "alloy",
    "output_audio_format": "pcm16",
    "temperature": 0.8,
    "max_output_tokens": 4096,
    "usage": {
      "total_tokens": 2305,
      "input_tokens": 2175,
      "output_tokens": 130,
      "input_token_details": {
        "text_tokens": 1206,
        "audio_tokens": 969,
        "cached_tokens": 1152,
        "cached_tokens_details": {
          "text_tokens": 768,
          "audio_tokens": 384
        }
      },
      "output_token_details": {
        "text_tokens": 34,
        "audio_tokens": 96
      }
    },
    "metadata": null
  }
}
2025-06-04 18:10:08,279 - telephony_realtime_bridge - INFO - Received OpenAI message type: rate_limits.updated
2025-06-04 18:10:08,357 - multi_turn_test - INFO - [MOCK] Response received: 10 chunks
2025-06-04 18:10:08,357 - multi_turn_test - INFO - [MOCK] Turn 5: AI response received (10 chunks)
2025-06-04 18:10:08,359 - multi_turn_test - INFO - [MOCK] Saved audio: turn_05_response_79e677e9.wav (7.33s)
2025-06-04 18:10:08,359 - multi_turn_test - INFO - 
[MOCK] Multi-turn conversation completed:
2025-06-04 18:10:08,359 - multi_turn_test - INFO -    Completed turns: 5/5
2025-06-04 18:10:08,363 - multi_turn_test - INFO - [MOCK] Sent session.end: ReplacementCardConversation completed
2025-06-04 18:10:08,363 - telephony_realtime_bridge - INFO - Received telephony message: session.end
2025-06-04 18:10:08,363 - telephony_realtime_bridge - INFO - Session end received: ReplacementCardConversation completed
2025-06-04 18:10:08,365 - multi_turn_test - INFO - [MOCK] Saved audio: greeting_79e677e9.wav (2.68s)
2025-06-04 18:10:08,367 - multi_turn_test - INFO - [MOCK] Saved audio: response_79e677e9.wav (7.33s)
2025-06-04 18:10:08,367 - multi_turn_test - INFO - 
==================================================
2025-06-04 18:10:08,368 - multi_turn_test - INFO - [MOCK] MULTI-TURN CONVERSATION SUMMARY
2025-06-04 18:10:08,368 - multi_turn_test - INFO - ==================================================
2025-06-04 18:10:08,368 - multi_turn_test - INFO - Overall Status: SUCCESS
2025-06-04 18:10:08,368 - multi_turn_test - INFO - Completed Turns: 5/5
2025-06-04 18:10:08,368 - multi_turn_test - INFO - Initial Greeting: Received (6 chunks)
2025-06-04 18:10:08,369 - multi_turn_test - INFO - 
Turn-by-turn Results:
2025-06-04 18:10:08,369 - multi_turn_test - INFO -   Turn 1: need_to_replace_card.wav â†’ Audio Sent â†’ Response Received (12 chunks)
2025-06-04 18:10:08,369 - multi_turn_test - INFO -   Turn 2: my_gold_card.wav â†’ Audio Sent â†’ Response Received (15 chunks)
2025-06-04 18:10:08,369 - multi_turn_test - INFO -   Turn 3: i_lost_it.wav â†’ Audio Sent â†’ Response Received (18 chunks)
2025-06-04 18:10:08,370 - multi_turn_test - INFO -   Turn 4: yes_that_address.wav â†’ Audio Sent â†’ Response Received (22 chunks)
2025-06-04 18:10:08,371 - multi_turn_test - INFO -   Turn 5: thanks_thats_all.wav â†’ Audio Sent â†’ Response Received (10 chunks)
2025-06-04 18:10:08,371 - multi_turn_test - INFO - ==================================================
2025-06-04 18:10:08,371 - multi_turn_test - INFO - 
[TEST] ReplacementCardConversation completed successfully!
2025-06-04 18:10:08,371 - multi_turn_test - INFO - [MOCK] Disconnected from bridge server
2025-06-04 18:10:08,371 - multi_turn_test - INFO - [MAIN] Replacement card conversation flow completed: True
2025-06-04 18:10:08,439 - telephony_realtime_bridge - INFO - Telephony-Realtime bridge closed
2025-06-04 18:10:08,439 - main - INFO - Closing bridge...
